<%# OVERRIDE Hyrax 2.9 - add licence, file size and embargo dates %>
<% license_count = @presenter.check_file_licence_count.positive? %>

<tr class="<%= dom_class(member) %> attributes">
  <td class="thumbnail">
    <%= render_thumbnail_tag member %>
  </td>
  <td class="attribute attribute-filename ensure-wrapped"><%= link_to(member.link_name, contextual_path(member, @presenter)) %></td>
  <% if license_count %>
    <td class="attribute file_licence">
      <% master_license_hash = fetch_license_hash %>
      <% member.try(:license).each do |license_links| %>
        <%= link_to master_license_hash[license_links], license_links, target: :_blank %><br>
      <% end %>
    </td>
  <% end %>
  <td class="attribute attribute-date_uploaded"><%= member.try(:date_uploaded) %></td>
  <td class="attribute permission">
    <%= member.permission_badge %>
    <% if member.embargo_release_date.present? %>
      <dd> Until <%= member.try(:embargo_release_date) %></dd>
    <% end %>
    <% if member.lease_expiration_date.present? %>
      <dd> Until <%= member.try(:lease_expiration_date) %></dd>
    <% end %>
  </td>
  <td>
    <%= render 'actions', member: member %>
  </td>
</tr>
