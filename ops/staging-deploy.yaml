livenessProbe:
  enabled: false
readinessProbe:
  enabled: false

brandingVolume:
  storageClass: azurefile
derivativesVolume:
  storageClass: azurefile
uploadsVolume:
  storageClass: azurefile

ingress:
  enabled: true
  hosts:
    - host: hyku-staging.20.90.72.114.xip.io
      paths:
        - path: /
    - host: "*.hyku-staging.20.90.72.114.xip.io"
      paths:
        - path: /

extraEnvVars:
  - name: SETTINGS__MULTITENANCY__ADMIN_HOST
    value: hyku-staging.20.90.72.114.xip.io
  - name: SETTINGS__MULTITENANCY__ROOT_HOST
    value: hyku-staging.20.90.72.114.xip.io
  - name: SETTINGS__MULTITENANCY__DEFAULT_HOST
    value: "%{tenant}.hyku-staging.20.90.72.114.xip.io"
  - name: SETTINGS__MULTITENANCY__ADMIN_ONLY_TENANT_CREATION
    value: "false"
  - name: CONFDIR
    value: "/app/samvera/hyrax-webapp/solr/config"
  - name: RAILS_LOG_TO_STDOUT
    value: "true"
  - name: SOLR_CONFIGSET_NAME
    value: hyku
  - name: INITIAL_ADMIN_EMAIL
    value: support@notch8.com
  - name: INITIAL_ADMIN_PASSWORD
    value: testing123

worker:
  extraEnvVars:
    - name: SETTINGS__MULTITENANCY__ADMIN_HOST
      value: hyku-staging.20.90.72.114.xip.io
    - name: SETTINGS__MULTITENANCY__ROOT_HOST
      value: hyku-staging.20.90.72.114.xip.io
    - name: SETTINGS__MULTITENANCY__DEFAULT_HOST
      value: "%{tenant}.hyku-staging.20.90.72.114.xip.io"
    - name: SETTINGS__MULTITENANCY__ADMIN_ONLY_TENANT_CREATION
      value: "false"
    - name: RAILS_LOG_TO_STDOUT
      value: "true"
    - name: SOLR_CONFIGSET_NAME
      value: hyku

podSecurityContext:
  runAsUser: 1001
  runAsGroup: 101
  fsGroup: 101
  fsGroupChangePolicy: "OnRootMismatch"

worker:
  podSecurityContext:
    runAsUser: 1001
    runAsGroup: 101
    fsGroup: 101
    fsGroupChangePolicy: "OnRootMismatch"

solrEnabled: true

redis:
  architecture: standalone

imagePullSecrets:
  - name: gitlab-registry
